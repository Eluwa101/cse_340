<div id="account-update">
<h1><%= title %></h1>

<% if (errors) { %>
  <ul class="notice">
 <% errors.array().forEach(error => { %>
   <li><%= error.msg %></li>
<%  }) %>
 </ul>
<% } %>

<h2>Account Update</h2>
<form class="account-form" method="post" action="/account/update">
  <label for="account_firstname">First Name</label>
  <input
    type="text"
    name="account_firstname"
    id="account_firstname"
    required
    autocomplete="given-name"
    value="<%= locals.account_firstname || '' %>"
  >

  <label for="account_lastname">Last Name</label>
  <input
    type="text"
    name="account_lastname"
    id="account_lastname"
    required
    autocomplete="family-name"
    value="<%= locals.account_lastname || '' %>"
  >

  <label for="account_email">Email Address</label>
  <input
    type="email"
    name="account_email"
    id="account_email"
    required
    autocomplete="email"
    value="<%= locals.account_email || '' %>"
  >

  <input type="hidden" name="account_id" value="<%= locals.account_id %>">
  <button type="submit" class="form-button">Update Account</button>
</form>

<h2>Change Password</h2>
<p class="form-note">
  Changing your password will replace the current one. Passwords must be at least 12
  characters and include 1 uppercase letter, 1 number, and 1 symbol.
</p>
<form class="account-form" method="post" action="/account/update-password">
  <label for="account_password">New Password</label>
  <input
    type="password"
    name="account_password"
    id="account_password"
    required
    autocomplete="new-password"
    pattern="(?=^.{12,}$)(?=.*\d)(?=.*\W+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
    title="Password must be at least 12 characters long and contain at least 1 capital letter, 1 number, and 1 special character."
  >

  <input type="hidden" name="account_id" value="<%= locals.account_id %>">
  <button type="submit" class="form-button">Change Password</button>
</form>
</div>
